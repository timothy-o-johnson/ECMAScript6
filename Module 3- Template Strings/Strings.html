<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8"> HEAD
  <title>ES 6: Strings </title>

  <style>
    .h1 {
      background: #ffc600;
    }
  </style>

</head>

<body>

  <div class="bio">

  </div>

  <script>

    // Template Strings intro
    const dogName = 'Snickers';
    const age = 2;
    const sentence = 'My dog ' + dogName + ' is ' + age * 7 + ' years old.';
    const sentenceBacTic = `My dog ${dogName} is ${age * 7} years old in dog years.`;

    //HTML Fragments with Template Literals
    const person = {
      name: 'Tim',
      job: 'Software Engineer',
      city: 'Detroit',
      bio: '"avid dancer and passion pursuer"',
    }

    const markup = `
    <div class="person">
      <h2>
        ${person.name}
        <span class="job">${person.job}</span>
      </h2>
      <p class="location">${person.city}</p>
      <p class="bio">${person.bio}</p>
    <div>
  `;

    const dogs = [
      { name: 'Snickers', age: 2 },
      { name: 'Hugo', age: 8 },
      { name: 'Snoop', age: 1 },
    ];

    const markup2 = `
    Which is your favorite dog? Well..
      <ul class="dogs">
        ${dogs.map(dog => `<li> ${dog.name} is my favorite dog </li>`).join("")}
      </ul>
    `
    //Tagged Template Literals
    /*you have string, you pass in the regular string that you want, then you get all the pieces and it's up to you to gather all the pieces and craft it together. */

    const friendName = 'Hilary';
    const friendAge = 26;
    const friendLocation = 'someplacefar'

    function highlight(strings, ...values) {
      let str = '';
      strings.forEach((string, i) => {
        //str += string + (values[i] || '');
        //debugger;

        str += `${string} <span contenteditable class="h1">${values[i] || ""}</span>`;
      });

      return str;

    }

    const sentenceTL = highlight`This is my best friend, ${friendName}. They are ${friendAge} years old. We met in ${friendLocation}.`

    console.log(sentenceTL);

    //Tagged Template Exercise: Abbreviation Tag
    const dict = {
      'Infinite Jest': 'favorite book',
      'Satanic Verses': 'a damn fine book',
      'Don Quixote de La Mancha': 'a suprisingly good book'
    };

    function addAbbreviations(strings, ...values) {
      const abbreviated = values.map(value => {
        if (dict[value]) {
          return `<abbr title="${dict[value]}">${value}</abbr>`
        }
        return value;
      })

      return strings.reduce((sentenceAT, string, i) => {
        return `${sentenceAT}${string}${abbreviated[i] || ''}`;
      }, '')
    }

    const firstName = 'Luke';
    const lastName = 'Abbot';
    const sentenceAT = addAbbreviations`Hello! My name is ${firstName} ${lastName} and Tim tells me that these are some wonderful books: ${'Infinite Jest'}, ${'Satanic Verses'}, and ${'Don Quixote de La Mancha'}.`;

    /*  const bio = document.querySelector('.bio');
      const p = document.createElement('p');
      p.innerHTML = sentenceAT;
      bio.appendChild(p);*/

    document.body.innerHTML = markup;
    document.body.innerHTML = markup2;
    document.body.innerHTML = sentenceTL;

  </script>
</body>

</html>